The Treaty of Guadalupe Hidalgo ended the war on 2 February 1848.